<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>56.Apache</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <nav class="navbar" id="side-navigation">
        <ul class="side-nav">
            <li class="nav-item">
                <a href="javascript:void(0)" onclick="showSection('overview')" id="overview-tab" class="nav-link">Въведение в темата</a>
            </li>
            <li class="nav-item">
                <a href="javascript:void(0)" onclick="showSection('web-concepts')" id="web-concepts-tab" class="nav-link">Основни понятия</a>
            </li>
            <li class="nav-item">
                <a href="javascript:void(0)" onclick="showSection('about')" id="about-tab" class="nav-link">Какво е Apache HTTP Server?</a>
            </li>
            <li class="nav-item">
                <a href="javascript:void(0)" onclick="showSection('interesting-facts')" id="interesting-facts-tab" class="nav-link">Интересни факти</a>
            </li>
            <li class="nav-item">
                <a href="javascript:void(0)" onclick="showSection('brief-history')" id="brief-history-tab" class="nav-link">Кратка история</a>
            </li>
            <li class="nav-item">
                <a href="javascript:void(0)" onclick="showSection('architecture')" id="architecture-tab" class="nav-link">Архитектура</a>
            </li>
            <li class="nav-item">
                <a href="javascript:void(0)" onclick="showSection('installation')" id="installation-tab" class="nav-link">Инсталиране</a>
            </li>
            <li class="nav-item">
                <a href="javascript:void(0)" onclick="showSection('commands')" id="commands-tab" class="nav-link">Основни операции</a>
            </li>
            <li class="nav-item">
                <a href="javascript:void(0)" onclick="showSection('config')" id="config-tab" class="nav-link">Заявки и конфигурационни файлове</a>
            </li>
            <li class="nav-item">
                <a href="javascript:void(0)" onclick="showSection('request-and-directives')" id="request-and-directives-tab" class="nav-link">Директиви и контейнери</a>
            </li>
            <li class="nav-item">
                <a href="javascript:void(0)" onclick="showSection('example-website')" id="example-website-tab" class="nav-link">Създаване на уеб сайт с Apache</a>
            </li>
            <li class="nav-item">
                <a href="javascript:void(0)" onclick="showSection('statistics')" id="statistics-tab" class="nav-link">Статистики и сравнение с други уеб сървъри</a>
            </li>
            <li class="nav-item">
                <a href="javascript:void(0)" onclick="showSection('source')" id="source-tab" class="nav-link">Източници</a>
            </li>
            
        </ul>
    </nav>
    <div class="maincontent">
        <div class="page" id="overview">
            <h1> №56 Apache. Архитектура, инсталиране, конфигуриране, виртуални хостове.</h1>
            <div class="content"> 
                <img src="img/apache-logo.png" id="logo" alt="Apache Logo"/>             
                <p>Ако сте нaпълно нови в Apache HTTP Server, не знаете как да използвате Apache във ваш проект или дори как да направите една уеб страница?
                    Не знаете от къде да започнете или дори какви въпроси да зададете?</p>
                След този докуменът:
                <p>&#10004; ще знаете кои са основните компоненти на Уеб-а
                    <br/>&#10004; ще разбирате как работи един Уеб сървър
                    <br/>&#10004; ще научите как да използвате Apache
                    <br/>&#10004; ще защо и кога да използвате Apache
                    <br/>&#10004; ще можете да инсталирате и конфигурирате Apache софтуера
                    <br/>&#10004; ще можете уверено да включвате Apache във вашия проект</p>
            </div>
            <!-- <h2>Изготвил: Илкнур Мустафа, фн.62137, Софтуерно инженерство, III курс</h2> -->
    	</div>
        <div  class="page"  id="web-concepts">
            <h3>Уеб сървър, URL и Клиент</h3>
            <div class="content">
                <p>URL адреси наричаме адресите в мрежата или още Унифицирани Локатори на Ресурси (Uniform Resource Locator), които определят протокол (например HTTP),
                    име на сървър (например www.apache.org), път (например /project/index.html) и евентуално низ (например ?id=SN879) предаващ допълнителна информация на сървъра.
                    Пътят в URL може да представлява произволен брой неща на сървъра. Може да бъде файл (като /project/index.html) също може да бъде и някакъв програмен файл (като index.html)</p>
                <p>Клиент (например вашия уеб браузър Chrome) се свързва със уеб сървър (например вашия Apache HTTP Server) с посочения протокол в URL и отправя заявка за ресурс използвайки
                пътя в URL. В резултат, сървърът ще изпрати отговор на клиента съдържащ код на състоянието на заявката и съобщение. Кодът на състоянието ще покаже дали заявката е била успешна, ако не е била
                ще покаже грешката, която е причинила неуспеха.</p>
            </div>
            <h3>Виртуални хостове и DNS</h3>
            <div class="content">
                За да се свърже със сървър, клиентът първо ще трябва да "преведе" името на сървъра до IP адрес -
                местоположението в интернет, където пребивава сървърът.  По този начин, за да може уеб сървърът да бъде достъпен,
                е необходимо името на сървъра да е в DNS.
                Повече от едно име на хост може да сочи към един и същ IP адрес и повече от един IP адрес може да бъде прикачен към същия физически сървър.
                По този начин можем да стартираме повече от един уеб сайт на същия физически сървър, като използваме функционалност, наречена виртуални хостове.
            </div>
            <h3>Конфигурационни файлове и директиви</h3>
            <div class="content">
                <p>HTTP сървърът Apache е конфигуриран чрез прости текстови файлове. Тези файлове могат да бъдат разположени на всяко място от различни места,
                    в зависимост от това как точно сте инсталирали сървъра.  Общите места за тези файлове могат да бъдат намерени в httpd уикито.
                    Тези файлове се зареждат чрез директивата &#x3C;Include&#x3E;.
                    Конфигурацията често е разбита на множество по-малки файлове, за лесно управление.  </p>
                <p>Имената или местоположенията на тези под-файлове не са вълшебни, може да варира значително от една инсталация до друга.  Подредете и подразделете тези файлове по най-добрия начин за вас.
                    Ако подредбата на файловете, която имате по подразбиране, няма смисъл за вас, не се колебайте да я пренаредите.
                    Сървърът се конфигурира чрез поставяне на конфигурационни директиви в тези конфигурационни файлове.
                    Директивата е ключова дума, последвана от един или повече аргументи, които задават нейната стойност.
                    Въпросът "Къде трябва да поставя тази директива?"  обикновено се отговаря, като се вземе предвид къде искате дадена директива да е в сила.
                    Ако е глобална настройка, тя трябва да се появи в конфигурационния файл, извън който и да е &#x3C;Directory&#x3E;, &#x3C;Location&#x3E;, &#x3C;VirtualHost&#x3E;,
                    или друг раздел.  Ако трябва да се прилага само за определена директория, тя трябва да влезе в &#x3C;Directory&#x3E;
                    раздел, отнасящ се до тази директория и т.н. </p>
                <p>В допълнение към основните конфигурационни файлове, някои директиви могат да влизат в .htaccess файлове,
                    разположени в съдържателните директории. .htaccess файловете са предимно за хора, които нямат достъп до основния/ите файл/ове за конфигурация на сървъра.</p>
            </div>
            <h3>Лог файлове</h3>
            <div class="content">
                Логовете са основен компонент на всеки проект. Важно е да имаме мониторинг(проследяване) на действията.
                Можем да си мислим лог файловете като дневници с грешки и не само.
                Отстраняването на проблеми без журнал за грешки е като шофиране със затворени очи.
                Местоположението на логовете за грешки се определя от директивата ErrorLog, която може да бъде зададена глобално или на виртуален хост.
                Записите в дневника за грешки ни казват какво се объркало и кога.  Те често ни казват и как да го поправим.
                Всеки лог ни казва кода за грешка, който може да видим в Интернет.  Можем също да конфигурираме регистъра за логове.
            </div>  
        </div>
        <div  class="page"  id="about">
          <h3>Какво представляват уеб сървърите?</h3>
            <div class="content">
                <p>Уеб сървърът съхранява и доставя съдържанието за уебсайт - като текст, изображения, видео и данни за приложения - на клиенти, които го изискват.
                    Най-често срещаният тип клиент е програма за уеб браузър,
                    който изисква данни от вашия уебсайт, когато потребителят кликне върху връзка или изтегли документ на страница,
                    показана в браузъра. Уеб сървърът комуникира с уеб браузър, използвайки протокол за прехвърляне на хипертекст (HTTP).
                    Съдържанието на повечето уеб страници е кодирано в езика за маркиране на хипертекст (HTML).
                    Съдържанието може да бъде статично (например текст и изображения) или динамично
                    (например изчислена цена или списък с артикули, които клиентът е маркирал за покупка).</p>
                <p>За да доставят динамично съдържание, повечето уеб сървъри поддържат скриптови езици от страна на сървъра, за да кодират бизнес логиката
                    в комуникацията.  Често поддържаните езици включват Active Server Pages (ASP), Javascript, PHP, Python и Ruby.
                    Уеб сървърът може също да кешира съдържание, за да ускори доставката на често поискано съдържание.
                    Този процес е известен още като уеб ускорение.
                    Уеб сървърът може да хоства един уебсайт или няколко уебсайта, използвайки един и същ софтуер и хардуерни ресурси,
                    което е известно като виртуален хостинг.</p>
                <p>Уеб сървърите също могат да ограничат скоростта на реагиране на различни клиенти, така че да не позволят на един клиент да доминира ресурсите
                    които се използват по-добре за задоволяване на заявки от голям брой клиенти.
                    Докато уеб сървърите обикновено хостват уебсайтове, които са достъпни в Интернет,
                    те могат да се използват и за комуникация между уеб клиенти и сървъри в локални мрежи, като например интранет на компанията.
                    Уеб сървърът може дори да бъде вграден в устройство, такова цифрово устройство, за да могат потребителите да общуват
                    устройството чрез всеки често достъпен уеб браузър.
                </p>
                <img src="img/servers.jpg" id="datacenter" alt="Datacenter image"/><br/>
                <div class="image-title"><i>Фиг.1. Datacenter - съвкупност от уеб сървъри в една сграда</i></div>
            </div>
            <h3>Apache HTTP Server</h3>
            <div class="content">
                <p>Apache HTTP Server се счита за софтуер с отворен код, което означава, че оригиналният source код е свободно достъпен за преглед и сътрудничество, който е известен също като “httpd” и Apache.
                    Това, че е с отворен код, прави Apache много популярен сред разработчиците, които са изградили и конфигурирали свои собствени модули за прилагане на специфична функционалност
                    и подобряване на основните му функции. Уеб сървърът Apache е един от най-популярните и мощни уеб сървъри в света,
                    се дължи отчасти на неговата лекота на администриране и гъвкавост. Тази гъвкавост идва от модулният дизайн на Apache. Модулите позволяват на Apache да изпълнява допълнителни функции, 
                    като първоначално пренаписващи URL адреси за поддържане на SSL криптиране.
                    Това позволява на администраторите да променят Apache, за да отговарят на собствените нужди; добавяне на модули, които са необходими и премахване на такива, които не са.</p>                
                <p>Apache съществува от 1995 г. насам и е отговорен като основна технология,
                    която помaга за стимулиране на първоначалния растеж на интернет в началото.
                    Един от плюсовете на Apache е способността му да обработва големи количества трафик с минимална конфигурация.
                    Той мащабира с лекота и с модулната си функционалност в основата си.
                    Mожете да конфигурирате Apache да прави каквото искате, както искате.
                    Можете също да премахнете нежелани модули, за да направите Apache по-лек и ефективен.</p>
            </div>   	
        </div>
        <div  class="page" id="interesting-facts">
            <h3>Интересни факти за Apache</h3>
        	<div class="content">
                <p>&#10025; Apache Software Foundation управлява своята марка и услуги.
                    <br/>&#10025; Фондацията заявява, че името „Apache“ е избрано от уважение към индианската нация Apache,
                                известна с превъзходните си умения в стратегията на война и неизчерпаемата си издръжливост.
                    <br/>&#10025; Сървърът е разработен и поддържан от отворена общност, от разработчици под ASF.
                    <br/>&#10025; Предимно работи на Linux, Apache захранва около 46% от целия уебсайт по света.
                    <br/>&#10025; Това е ключовият компонент на стека LAMP (Linux, Apache, MySQL, PHP).
                </p>
                <p>Apache е компонентът на уеб сървъра на популярния стек LAMP (Linux, Apache, MySQL, PHP). 
                Въпреки че днес има много други компоненти на уеб стека (например NodeJS, JS рамки за богати клиенти,
                различни облачни услуги и т.н.), LAMP все още остава много популярен.</p>
                <img src="img/lamp.png" alt="LAMP Stack image"/>
                <div class="image-title"><i>Фиг.2. Компоненти на LAMP stack</i></div>
                <p>Уеб сървърът Apache има богат набор от функции, които могат да бъдат активирани чрез инсталиране на
                един от приблизително 60 официални модула или един от многото други неофициални модули,
                които също съществуват.</p>
                <p>През годините Apache разработва няколко метода за обработка на уеб заявки за подобряване на неговата ефективност
                 (главно използване на RAM и латентност). В свят, в който все повече едновременни заявки за уеб трябва да се обработват от сайтове и 
                където обслужваните размери на страниците станават много по-големи, тези по-нови методологии са необходими.</p>
            </div>
        </div>
        <div class="page" id="architecture">
        	<h3>Архитектура</h3>
            <div class="content">
                Основната архитектура на Apache следва следните два шаблона:
                <br> &#9758; Подход, ръководен от процеса
                <br> &#9758; Създава нова нишка за всяка заявка.<br>
                <br>&#10025; Нишка: Нишката е най-малката последователност от програмирани инструкции, която може да се управлява независимо от процеса.
                В повечето случаи нишката е компонент на процеса.
                <p>Apache следва многонишков подход. Той осигурява разнообразие от множество модули за обработка.
                Тези предварителни модули са основно от три типа алгоритъм за обработка на заявки.
                Всеки е предназначен за различни сървърни нужди.</p>
                <p> MPMs (Multi-Processing Modules) осигуряват гъвкава архитектура за избор на различни връзки и различни алгоритми за обработка.
                Също така различните версии на Apache 2 използват различни модули за процесите.</p>
                <br/><img src="img/apache-request-handling.png" alt="Apache Architecture and Request Hadling Demostrated"/><br/>
                <div class="image-title"><i>Фиг.3. Архитектура. Обработка на заявки в Apache</i></div>
                <p>Методологията за обработка на заявки Apache може да бъде конфигурирана по един от трите начина:<br/>
                    <br/> &#9758; Модела на процеса
                    <br/> &#9758; Модела на работника
                    <br/> &#9758; Модела на събитието
                </p>
                <p>&#9758; Модел на процеса(<i>mpm_prefork</i>): Това е оригиналният метод; не мащабира добре с много паралелни връзки, тъй като консумира много RAM
                и дори може да откаже връзките при големи натоварвания. По-малките сайтове няма да забележат това, 
                но по-големите сайтове вероятно ще го направят.</p>
                <p>&#9758; Модел на работника(<i>mpm_worker</i>): Този модел създава единен процес на контрол, който е отговорен за стартирането на детски процеси.
                Всеки достъпен процес създава фиксиран брой нишки, както и нишка на слушател.
                Нишката на слушателя слуша за връзки и ги предава на нишка за обработка, когато те пристигнат.
                Въпреки че този модел мащабира много по-добре от Моделa на процеса, той все още може да се сблъска
                с проблеми с мащабирането за сайтове с много голям трафик, поради единния проблем в процеса на управление.</p>
                <p>&#9758; Модел на събитието(<i>mpm_event</i>): Това е подобно на работния модел, но създава една слушателска нишка, която слуша за връзки
                и ги предава на работната нишка за обработка. Този MPM обработва дългосрочните връзки много по-ефективно на една нишка 
                (манипулира с KeepAlive). От Apache 2.4 моделът на събитията се счита за стабилен и сега също е настройка по подразбиране,
                ако операционната система може да го поддържа.</p>
                Old school Apache (2.2) използва mpm_worker, mpm_prefork и mod_php. Като има предвид, че Apache 2.4 (нов apache) е конфигуриран да използва mpm_event, php-fpm.
                По подразбиране Apache 2.2 е конфигуриран в режим pre-fork (mpm_prefork). Той отговаря на определен брой процеси, всеки от които може да обслужва една заявка наведнъж.
                <p>С други думи, Apache създава нова нишка всеки път, за да обработва всяка заявка за връзка.</p>
            </div>
        </div>
        <div  class="page" id="installation">
            <h3>Инсталиране на Apache Software на Linux</h3>
            <div class="content">
                За да инсталирате Apache, инсталирайте най-новия мета-пакет apache2, като изпълните:
                <p>🐼<i>user@ubuntu:~$ </i>🍓<i> sudo apt update</i></p>
                <p>🐼<i>user@ubuntu:~$ </i>🍓<i> sudo apt install apache2</i></p>
                <p>След като пуснем командата да се изпълнява, всички необходими пакети са инсталирани и можем да я тестваме,
                като напишем нашия IP адрес за уеб сървъра.</p>
                <p>🐼<i>user@ubuntu:~$ </i>🍓<i> hostname -I</i></p>
                <br>Ако виждате това, значи инсталацията е била успешна!
                <br><img src="img/verify-installation.png" alt="Installation verification image"><br>
            </div>
            <h3>Инсталиране на Apache Software на Windows</h3>
            <div class="content">
                <p>Тези, които не се доверяват на Linux и предпочитат Windows, трябва да инсталират <i>httpd.exe</i> и да изпълнят няколко команди към executable-a.
                За повече информация посетете:</p>
                <a href="http://httpd.apache.org/docs/2.4/platform/windows.html">http://httpd.apache.org/docs/2.4/platform/windows.html</a>
            </div>
        </div>
        <div class="page" id="commands">
            <h3>Основни операции с Apache service</h3>
            <div class="content">
                <p>Когато управляваме уеб сървър, е полезно да имаме някакво ниво на контрол върху услугата.
                Вероятно ще се окаже, че презареждаме или рестартираме Apache доста често, докато правим
                промени в конфигурацията и ги тествате. Също така е полезно да можем да спрем (и стартираме)
                сървиса Apache според нуждите.</p>
                <p>Базови операции за боравене с Apache, примерите използват командите "service" и "systemctl":</p>
                <p>
                    <br/>&#9734; Спиране:<br/>
                    <br/><i>$ sudo systemctl stop apache2.service</i>
                    <br/><i>$ service apache2 stop</i>
                </p>
                <p>
                    <br/>&#9734; Стартиране:<br/>
                    <br/><i>$ sudo systemctl start apache2.service</i>
                    <br/><i>$ service apache2 start</i>
                </p>
                <p>
                    <br/>&#9734; Рестартиране:<br/>
                    <br/><i>$ sudo systemctl restart apache2.service</i>
                    <br/><i>$ service apache2 restart</i>
                </p>
                <p>
                    <br/>&#9734; Презареждане:<br/>
                    <br><i>$ sudo systemctl reload apache2.service</i>
                    <br><i>$ service apache2 reload</i>
                </p>
            </div>
        </div>
        <div class="page" id="brief-history">
            <h3>Кратка история</h3>
        	<div class="content">
            <p>
                    Проектът за Apache HTTP сървър бе официално стартиран през февруари 1995 г. Той става най-популярният уеб сървър до април 1996 г. и остава на върха от доста време.
                Apache стартира като съвместен проект, който има за цел да коригира проблемите на демона на HTTP в публичното пространство. Софтуерът има много грешки и много уебмастъри трябва сами да поправят нещата.
                Всичко това е имало потенциал да създаде сериозна фрагментация и не всички уебмастъри са били достатъчно квалифицирани да оправят софтуера.
            </p>
            <p>
                    И така, осем от тези уебмайстори обединяват усилията си и формират оригиналната Apache Group. Групата започва да разработва демона NCSA httpd.
                Използвайки NCSA httpd 1.3 като база, те правят официалната публична версия на Apache сървъра през април 1995 г.
                В него са включени всички публикувани корекции на грешки и много подобрения. Целта е проста - да се съберат всички подобрения в лесен за използване пакет.
                Екипът започва да работи не само върху добавянето на корекции на грешки, но и върху активното обновяване на кода и подобряването му.
            </p>
            <p>
                    През 1999 г. членовете на Apache Group сформират софтуерната фондация Apache, за да организират по-добре HTTP сървъра на Apache. Това е добър ход за поддържане на реда и ускоряват популярността на платформата. 
                Разбира се, не всичко е перфектно. Мрежата се променя и в наши дни има много алтернативи. Предложенията на NGINX и Microsoft IIS в момента са по-популярни от Apache и продължават да отнемат потребителите.
                Алтернативите обикновено предлагат по-добра скорост, лесно се справят с повече натоварвания и по-тежки сайтове и подобряват средното време за реакция.
                В резултат Apache вероятно ще продължи да губи дял на по-младите и по-добри конкуренти.
                Но като платформа, която съществува повече от 20 години, Apache предефинира и прекрои основата на Интернет.
                За това Apache винаги ще има специално място в сърцата на разработчиците.
            </p>
            </div>
        </div>
        <div class="page" id="statistics">
            <h3>Статистики и сравнение с други уеб сървъри</h3>
        	<div class="content">
            <img src="img/web-servers-statistic.png" alt="Statistics">
            <div class="image-title"><i>Фиг.4. Статистика на използваните уеб сървъри от декември 2018год.</i></div>
            <p>
                Apache очевидно е първи измежду останалите уеб сървъри по използваемост.
                Apache е доста широко разпространената дума в света на ИТ, което не се дължи само на военния хеликоптер.
                Това е заради HTTP сървъра Apache, който през годините се превръща в една от най-популярните софтуерни платформи за уеб сървъри в света.
            </p>
            <p>
                Според проучването от декември 2018 г. от Netcraft, Apache има среден пазарен дял от 18,94%. Това означава, че има 313 милиона уебсайтове, които го използват като свой сървърен софтуер.
                Той е най-честият избор на малките компании, които искат да навлязат в Интернет мрежата.
            </p>
            <p>
                Apache работи на всички видове Unix-подобни системи (например Linux или BSD) и има пълна поддръжка за Microsoft Windows.
                Софтуерът му е безплатен дори за комерсиална употреба и с отворен код, сравнително лесен за конфигуриране, перфектен за начинаещи,
                използваем на множество платформи и е много съвместим с WordPress. 
            </p>
            <p>
                Apache е доста гъвкав поради модулната си структура и стабилен.
                Въпреки това той има и няколко недостатъка, като проблеми със сигурността, статична неефективност при обслужване на файлове и проблеми, свързани със скоростта.
                Това напоследък е причина той да губи потребители и дава възможност на конкурента му NGINX да се бори за върха в йерархията. 
                Независимо от това, той все още е най-използваният софтуер за уеб сървър днес, от чиято гъвкавост може да се възползваме всички!
            </p>
            </div>
        </div>
        <div  class="page" id="source">
            <h3>Източници използвани за представяне на текстовата информация</h3>
        	<div class="content">
                <p>Част от информацията предадена в различните секции е авторска (лично разбиране по темата). За оформяне на останалата част са използвани следните помощни материали, разделени по категории за различните секции:</p>
                <p>[1] Раздел "Основни понятия":</p>
                <ul>
                    <li>
                        <a href="https://httpd.apache.org/docs/2.4/getting-started.html"> https://httpd.apache.org/docs/2.4/getting-started.html</a><i>, последно посетен на 08.04.2020</i>
                    </li>
                </ul>
                <p>[2] Раздели "Какво е Apache HTTP Server?" и "Кратка история":</p>
                <ul>
                    <li>
                        <a href="https://www.nginx.com/resources/glossary/web-server/"> https://www.nginx.com/resources/glossary/web-server/</a><i>, последно посетен на 08.04.2020</i>
                    </li>
                    <li>
                        <a href="https://hostingwiki.org/what-is-apache/"> https://hostingwiki.org/what-is-apache/</a><i>, последно посетен на 08.04.2020</i>
                    </li>
                    <li>
                        <a href="https://www.hostinger.com/tutorials/what-is-apache"> https://www.hostinger.com/tutorials/what-is-apache</a><i>, последно посетен на 10.04.2020</i>
                    </li>
                    <li>
                        <a href="https://httpd.apache.org/ABOUT_APACHE.html">https://httpd.apache.org/ABOUT_APACHE.html</a><i>, последно посетен на 13.04.2020</i>
                    </li>
                </ul>
                <p>[3] Раздел "Интересни факти":</p>
                <ul>
                    <li>
                        <a href="https://www.liquidweb.com/kb/what-is-a-lamp-stack/">https://www.liquidweb.com/kb/what-is-a-lamp-stack/</a><i>, последно посетен на 08.04.2020</i>
                    </li>
                </ul>
                <p>[4] Раздел "Архитектура":</p>
                <ul>
                    <li>
                        <a href="https://serverguy.com/comparison/apache-vs-nginx"> https://serverguy.com/comparison/apache-vs-nginx</a><i>, последно посетен на 08.04.2020</i>
                    </li>
                    <li>
                        <a href="https://www.hostingadvice.com/how-to/nginx-vs-apache/"> https://www.hostingadvice.com/how-to/nginx-vs-apache/</a><i>, последно посетен на 08.04.2020</i>
                    </li>
                    <li>
                        <a href="http://httpd.apache.org/docs/2.4/mpm.html"> http://httpd.apache.org/docs/2.4/mpm.html</a><i>, последно посетен на 08.04.2020</i>
                    </li>
                </ul>
                <p>[5] Раздели "Инсталиране" и "Основни операции":</p>
                <ul>
                    <li>
                        <a href="http://httpd.apache.org/docs/2.4/install.html">http://httpd.apache.org/docs/2.4/install.html</a><i>, последно посетен на 08.04.2020</i>
                    </li>
                    <li>
                        <a href="https://www.cyberciti.biz/faq/star-stop-restart-apache2-webserver/">https://www.cyberciti.biz/faq/star-stop-restart-apache2-webserver/</a><i>, последно посетен на 08.04.2020</i>
                    </li>
                </ul>
                <p>[6] Раздели "Директиви и Контейнери" и "Заявки и Конфигурационни файлове":</p>
                <ul>
                    <li>
                        <a href="http://ptgmedia.pearsoncmg.com/images/9780132409674/samplechapter/kew_ch02.pdf"> http://ptgmedia.pearsoncmg.com/images/9780132409674/samplechapter/kew_ch02.pdf</a><i>, последно посетен на 13.04.2020</i>
                    </li>
                    <li>
                        <a href="http://httpd.apache.org/docs/2.4/vhosts/"> http://httpd.apache.org/docs/2.4/vhosts/</a><i>, последно посетен на 13.04.2020</i>
                    </li>
                </ul>
                <p>[7] Раздел "Статистики и сравнение с други уеб сървъри":</p>
                <ul>
                    <li>
                        <a href="https://news.netcraft.com/archives/2019/04/22/april-2019-web-server-survey.html"> https://news.netcraft.com/archives/2019/04/22/april-2019-web-server-survey.html</a><i>, последно посетен на 13.04.2020</i>
                    </li>
                </ul>
            </div>
            <h3>Примери с код</h3>
            <div class="content">
                <p>Примерите с код са авторски.</p>
            </div>
            <h3>Примери с изображения</h3>
            <div class="content">
                <p> Изображения включени в този документ са взети от Google Images, при търсене на ключовите думи за различните секции.
                    Например: apache logo, web servers, LAMP stack, virtual hosting и т.н.
                    Част от изображенията са screenshots в резултат на изпълняване на примерен код.</p>
                    <br/>[1] Източник на картинката, описваща архитектурата:
                    <ul>
                        <li>
                            <a href="https://serverguy.com/comparison/apache-vs-nginx"> https://serverguy.com/comparison/apache-vs-nginx </a><i>, последно посетен на 08.04.2020</i>
                        </li>
                    </ul>
                    <br/>[2] Източник на картинката, показваща статистиките:<ul>
                        <li>
                            <a href="https://news.netcraft.com/archives/2019/04/22/april-2019-web-server-survey.html"> https://news.netcraft.com/archives/2019/04/22/april-2019-web-server-survey.html</a><i>, последно посетен на 13.04.2020</i>
                        </li>
                    </ul>
            </div>
        </div>
        <div  class="page" id="example-website">
                <h3>Как можете да хостнете уебсайт с Apache?</h3>
                <div class="content">
                    <p>По подразбиране Apache се предлага с активиран основен сайт.
                    Можете да променим съдържанието му във <i>/var/www/html</i> или настройките, като редактирате неговия VirtualHost файл,
                    намиращ се в <i>/etc/apache2/sites-enabled/000-default.conf</i>.</p> 
                    <p>Можете също да модифицирате как Apache обработва входящите заявки и да имате множество сайтове,
                    работещи на един и същ сървър, чрез редактиране на неговия файл за виртуални хостове.</p>                    
                    Създайте директория в <i>/var/www/</i> за вашия уебсайт:
                    <p>🐼<i>user@ubuntu:~$ </i>🍓<i> sudo mkdir /var/www/web14d</i></p>
                    <p>В примера сайтът е кръстен <i>web14d</i>, но всяко име ще работи, стига да го посочите в конфигурационния файл на виртуалните хостове по-късно.</p>                    
                    <p>Сега, когато имате директория, създадена за вашия сайт, създайте HTML файл(начална страница) в него.
                        Влезте във вашата новосъздадена директория и създайте файла:</p>
                    <p>🐼<i>user@ubuntu:~$ </i>🍓<i> cd /var/www/web14d/</i></p>
                    <p>🐼<i>user@ubuntu:/var/www/web14d$ </i>🍓<i> vim index.html</i></p>
                    <p>Нека този файл има следното съдържание:</p>
                    <img src="img/example-index-html.png" alt="Simple index.html file">
                    <div class="image-title"><i>Фиг.5. Прост примерен index.html</i></div>
                    <p>Създайте VirtualHost файл, така че той да се показва, когато въвеждате web14d.example.com.
                        В примера е използвана default конфигурацията и VirtualHost файла на Apache www.example.com.</p>
                    
                    <p>🐼<i>user@ubuntu:~$ </i>🍓<i> cd /etc/apache2/sites-available/</i></p>
                    <p>🐼<i>user@ubuntu:/etc/apache2/sites-available$ </i>🍓<i> sudo cp 000-default.conf web14d.conf</i></p>
                    <p>🐼<i>user@ubuntu:/etc/apache2/sites-available$ </i>🍓<i> sudo vim web14d.conf</i></p>
                
                    Трябва да посочите имейл в ServerAdmin, така че потребителите да могат да се свържат с вас в случай, че Apache срещне някаква грешка:
                    <p><i>ServerAdmin user@mail.com</i></p>
                    <p>Също така директивата DocumentRoot трябва да сочи директорията, на която са хоствани файловете на вашия сайт:</p>
                    <p><i>DocumentRoot /var/www/web14d/</i></p>
                    <p>Файлът по подразбиране не идва с директива ServerName, така че ще трябва да го добавите и дефинирате, като добавите този ред под последната директива:</p>
                    <p><i>ServerName web14d.example.com</i></p>
                    <p>Това гарантира, че хората стигат до подходящия сайт вместо до стандартния, когато въвеждат <i>web14d.example.com</i>.
                        Сега, когато приключихте с конфигурирането на вашия сайт, го активирайте със следната команда:</p>
                    <p>
                        <br/>🐼 <i>user@ubuntu:/etc/apache2/sites-available$</i> 🍓 <i>sudo a2ensite web14d.conf</i>
                        <br/><i>Enabling site web14d.</i>
                        <br/><i>To activate the new configuration, you need to run:</i>
                        <br/><i>systemctl reload apache2</i>
                        <br/>🐼 <i>user@ubuntu:/etc/apache2/sites-available$</i> 🍓 <i>systemctl reload apache2</i>
                    </p>
                    Вече след като въведете <i>web14d.example.com</i> в търсачката на браузъра, ако крайният резултат е следният, поздравления вече можете да създавате уебсайтове с Apache!
                    <img src="img/website.png" alt="Example website">
                </div>
            </div>
            <div  class="page" id="request-and-directives">
                <h3>Директиви</h3>
                <div class="content">
                    <p>Повечето от съдържанието на httpd.conf са директиви. Една директива може да има нула или
                        повече аргументи, разделени с whitespace. Всяка директива определя своя синтаксис,
                        така че различните директиви могат да позволяват различен брой аргументи и различни
                        типове аргументи (например низ, числово, изброено, булево включване / изключване или име на файл). 
                        Всяка директива се изпълнява от някакъв модул или ядро.</p>
                    <br/>Например:
                    <p><i>LoadModule foo_module modules/mod_foo.so</i></p>
                    <p>Тази директива се изпълнява от mod_so и зарежда модул. Първият
                        аргумент е името на модула (низ, буквено-цифров). Вторият аргумент е
                        име на файл, което може да бъде абсолютно или относително към корена на сървъра.</p>
                    <p><i>DocumentRoot /usr/local/apache/htdocss</i></p>
                    <p>Тази директива се реализира от ядрото и задава директорията, която е коренът на
                        главното дърво на документи, видимо от мрежата.</p>
                    <p><i>SetEnv hello ”Hello, World!”</i></p>
                    <p>Тази директива се реализира от mod_env и задава променлива среда. Тъй като вторият аргумент съдържа интервал, трябва да се заобиколи с кавички.</p>
                    <p><i>Choices On</i></p>   
                    Тази директива се реализира от mod_choices и активира опциите на модула.
                    </div>
                    <h3>Контейнер</h3>
                    <div class="content">
                    <p>Контейнерът е специална форма на директива, характеризираща се със синтаксис, който повърхностно
                        прилича на маркиране, използвайки ъглови скоби. Контейнерите семантично се различават от другите
                        директиви, тъй като съдържат начало и край на отделни линии и те засягат
                        директиви, попадащи между началото и края на контейнера. Например, the
                        &#x3C;VirtualHost&#x3E; контейнер се реализира от ядрото и определя виртуален хост:</p>
                        <p>
                        <br/>Пример:<br/>
                         <i>
                            &#x3C;VirtualHost 10.31.2.139&#x3E;<br/>
                                ServerName www.example.com<br/>
                                DocumentRoot /usr/www/example<br/>
                                ServerAdmin webmaster@example.com<br/>
                                CustomLog /var/log/www/example.log<br/>
                            &#x3C;/VirtualHost&#x3E;<br/>
                         </i>
                        </p>                      
                    <img src="img/virtualhosts.png" alt="Virtual hosts">
                    <div class="image-title"><i>Фиг.6. Диаграма разясняваща ролята на контейнерите</i></div>
                    <p>Контейнерът предоставя контекст за директивите в него.
                        В този случай директивите се прилагат за заявки към www.example.com, но не и за други
                        имена, на които този сървър отговаря. Контейнерите могат да бъдат вложени, освен ако
                        модул изрично предотвратява. Директивите, включително контейнерите, могат да бъдат чувствителни
                        към контекста, така че сa валидно само в някакъв определен тип контекст.</p>
                    </div>
                    <h3>Коментари</h3>
                    <div class="content">
                        <p>Всеки ред, чийто първи символ е #, се чете като коментар.</p>
                        <p><i> # This is a comment </i></p>
                        <p>Хешът в директивата по принцип не прави коментар, освен ако модулът
                            прилагането на директивата изрично я подкрепя.</p>
                    </div>
                </div>
           <div class="page" id="config">
            <h3>Заявка за обработка в Apache</h3>
               <div class="content">
                <p>
                Повечето, макар и в никакъв случай не всички, модулите се занимават с някакъв аспект на обработка на HTTP заявка. Но рядко, ако изобщо има, причина даден модул да се занимава с всеки аспект на HTTP - това е работата на httpd.
                Най-голямо предимство на модулния подход е, че модулът може лесно да се фокусира върху конкретен
                задача, но игнорирайте аспекти на HTTP, които не са релевантни за нея.
                Основният конфигурационен файл на Apache обикновено се нарича httpd.conf. Това обаче
                номенклатурата е просто конвенция и дистрибуция на Apache на трети страни като
                тези, предоставени като .rpm или .deb пакети, могат да използват различна схема за именуване. 
                Освен това, httpd.conf може да е един файл или може да бъде разпределен в няколко файла
                използвайки директивата Include за включване на различни конфигурационни файлове. Някои дистрибуции имат силно сложни конфигурации.
                Например, Debian GNU / Linux се доставя
                конфигурация на Apache, която по-скоро разчита на запознаване с Debian, а не с Apache.</p>
                </div>
                <h3>Конфигурационни файлове</h3>
                <div class="content">
                    <p>Конфигурацията на Apache се определя най-вече при стартиране, когато сървърът чете
                        httpd.conf (и всички включени файлове). Данни за конфигурация, включително ресурси
                        получени от тях от модул (например чрез отваряне на файл), се съхраняват в конфигурационните записи на всеки модул.
                        Всеки модул има два записа за конфигурация, или един от двата може да бъде нулев.</p>
                    <p>
                        &#10025; <i>apache2.conf</i>: основният конфигурационен файл на Apache2. Съдържа настройки, които са глобални за Apache2.
                        <br/>&#10025; <i>httpd.conf</i>: исторически основният конфигурационен файл на Apache2, кръстен на демона httpd.
                    </p>
                    <p>Сега файлът не съществува. В по-старите версии на Ubuntu файлът може да присъства, но празен,
                        тъй като всички опции за конфигурация са преместени в посочените по-долу директории.</p>
                    
                    &#10025; <i>conf-available</i>: тази директория съдържа налични конфигурационни файлове.
                    <br/>Всички файлове, които преди са били в <i>/etc/apache2/conf.d</i>, трябва да бъдат преместени в <i>/etc/apache2/conf</i>.
                    <br/>&#10025; <i>conf-enable</i>: държи символни връзки към наличните файлове в <i>/etc/apache2/conf</i>.
                    Когато конфигурационният файл е свързан, той ще бъде активиран следващия път, когато apache2 се рестартира.
                    <br/>&#10025; <i>envvars</i>: файл, където са зададени променливи на средата на Apache2.
                    <br/>&#10025; <i>mods-available</i>: тази директория съдържа конфигурационни файлове за зареждане на модули и ги конфигурира.
                    Не всички модули обаче ще имат специфични конфигурационни файлове.
                    <br/>&#10025; <i>mods-enabled</i>: държи symlink-ове към наличните файлове в <i>/etc/apache2/mods</i>.
                    <p>Когато файл за конфигурация на модул е ​​свързан, той ще бъде активиран следващия път, когато apache2 се рестартира.</p>
                    &#10025; <i>ports.conf</i>: съхранява директивите, които определят кои TCP портове Apache2 слуша.
                    <br/>&#10025; <i>sites-available</i>: тази директория има конфигурационни файлове за виртуални хостове на Apache2.
                    Виртуалните хостове позволяват Apache2 да бъде конфигуриран за множество сайтове, които имат отделни конфигурации.
                    <br/>&#10025; <i>sites-enabled</i>: като активирани модове, сайтовете са активирани симлинкове към директорията <i>/etc/apache2/sites-available</i>.
                    <p>По същия начин, когато конфигурационният файл в наличните сайтове се символизира, той е конфигуриран от него
                        ще бъде активен след рестартиране на Apache2.</p>
                    &#10025; <i>magic</i>: инструкции за определяне на MIME тип въз основа на първите няколко байта на файл.
                    <p>Конфигурационният файл <i>httpd.conf</i> е обикновен текстов файл и се анализира ред по ред в
                        стартиране на сървъра Съдържанието на httpd.conf съдържа директиви, контейнери и
                        коментари. Празни линии и водещо бяло пространство също са позволени, но ще бъдат игнорирани.
                    </p>
                </div>  
            </div>
    </div>
    
    <script src="js/nav.js"></script>
</body>
</html>

